{"ast":null,"code":"import _asyncToGenerator from\"D:\\\\Project\\\\App-Food\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"D:\\\\Project\\\\App-Food\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _objectSpread from\"D:\\\\Project\\\\App-Food\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _regeneratorRuntime from\"D:\\\\Project\\\\App-Food\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useReducer}from\"react\";import axios from\"axios\";import logger from\"use-reducer-logger\";import Row from\"react-bootstrap/Row\";import Carousel from\"react-bootstrap/Carousel\";import Col from\"react-bootstrap/Col\";import Product from\"../components/Product\";import{Helmet}from\"react-helmet-async\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import Banner1 from\"../assets/img/banner1.jpg\";import Banner2 from\"../assets/img/banner2.jpg\";import Banner3 from\"../assets/img/banner3.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var reducer=function reducer(state,action){switch(action.type){case\"FETCH_REQUEST\":return _objectSpread(_objectSpread({},state),{},{loading:true});case\"FETCH_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{products:action.payload,loading:false});case\"FETCH_FAIL\":return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});default:return state;}};function HomeScreen(){var _useReducer=useReducer(logger(reducer),{products:[],loading:true,error:\"\"}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,products=_useReducer2$.products,dispatch=_useReducer2[1];// const [products, setProducts] = useState([]);\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:\"FETCH_REQUEST\"});_context.prev=1;_context.next=4;return axios.get(\"/api/products\");case 4:result=_context.sent;dispatch({type:\"FETCH_SUCCESS\",payload:result.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:\"FETCH_FAIL\",payload:_context.t0.message});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Italian Food | Stave\"})}),/*#__PURE__*/_jsxs(Carousel,{className:\"banner\",fade:true,children:[/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:Banner1,alt:\"First slide\"}),/*#__PURE__*/_jsx(Carousel.Caption,{})]}),/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:Banner2,alt:\"Second slide\"}),/*#__PURE__*/_jsx(Carousel.Caption,{})]}),/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:Banner3,alt:\"Third slide\"}),/*#__PURE__*/_jsx(Carousel.Caption,{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"boxtext\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Welcome to Stave!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"Family Cafe & Pizzeria\"}),/*#__PURE__*/_jsx(\"div\",{className:\"smalltext\",children:\"Apparently we had reached a great height in the atmosphere, for the sky was a dead black, and the stars had ceased to twinkle. By the same illusion which lifts the horizon of the sea to the level\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:6,md:4,lg:3,className:\"mb-3\",children:/*#__PURE__*/_jsx(Product,{product:product})},product.slug);})})})]});}export default HomeScreen;","map":{"version":3,"sources":["D:/Project/App-Food/frontend/src/screens/HomeScreen.js"],"names":["useEffect","useReducer","axios","logger","Row","Carousel","Col","Product","Helmet","LoadingBox","MessageBox","Banner1","Banner2","Banner3","reducer","state","action","type","loading","products","payload","error","HomeScreen","dispatch","fetchData","get","result","data","message","map","product","slug"],"mappings":"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","sourcesContent":["import { useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport logger from \"use-reducer-logger\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Product from \"../components/Product\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nimport Banner1 from \"../assets/img/banner1.jpg\";\r\nimport Banner2 from \"../assets/img/banner2.jpg\";\r\nimport Banner3 from \"../assets/img/banner3.jpg\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, products: action.payload, loading: false };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction HomeScreen() {\r\n  const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\r\n    products: [],\r\n    loading: true,\r\n    error: \"\",\r\n  });\r\n  // const [products, setProducts] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_REQUEST\" });\r\n      try {\r\n        const result = await axios.get(\"/api/products\");\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: err.message });\r\n      }\r\n\r\n      // setProducts(result.data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <div className=\"homepage\">\r\n      <Helmet>\r\n        <title>Italian Food | Stave</title>\r\n      </Helmet>\r\n      {/* Banner */}\r\n      <Carousel className=\"banner\" fade>\r\n        <Carousel.Item>\r\n          <img className=\"d-block w-100\" src={Banner1} alt=\"First slide\" />\r\n          <Carousel.Caption></Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img className=\"d-block w-100\" src={Banner2} alt=\"Second slide\" />\r\n          <Carousel.Caption></Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img className=\"d-block w-100\" src={Banner3} alt=\"Third slide\" />\r\n          <Carousel.Caption></Carousel.Caption>\r\n        </Carousel.Item>\r\n      </Carousel>\r\n      {/* end banner */}\r\n      <div className=\"boxtext\">\r\n        <div className=\"title\">Welcome to Stave!</div>\r\n        <div className=\"subtitle\">Family Cafe & Pizzeria</div>\r\n        <div className=\"smalltext\">\r\n          Apparently we had reached a great height in the atmosphere, for the\r\n          sky was a dead black, and the stars had ceased to twinkle. By the same\r\n          illusion which lifts the horizon of the sea to the level\r\n        </div>\r\n      </div>\r\n      <div className=\"products\">\r\n        {loading ? (\r\n          <LoadingBox />\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <Row>\r\n            {products.map((product) => (\r\n              <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\r\n                <Product product={product}></Product>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default HomeScreen;\r\n"]},"metadata":{},"sourceType":"module"}